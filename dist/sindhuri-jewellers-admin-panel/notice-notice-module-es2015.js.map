{"version":3,"sources":["./src/app/pages/notice/notice-add/notice-add.component.html","./src/app/pages/notice/notice.component.html","./src/app/pages/notice/notice-add/notice-add.component.scss","./src/app/pages/notice/notice-add/notice-add.component.ts","./src/app/pages/notice/notice-routing.module.ts","./src/app/pages/notice/notice.component.scss","./src/app/pages/notice/notice.component.ts","./src/app/pages/notice/notice.module.ts"],"names":[],"mappings":"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","file":"notice-notice-module-es2015.js","sourcesContent":["export default \"<div>\\n  <form nz-form [formGroup]=\\\"nForm\\\">\\n    <nz-form-item>\\n      <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"name\\\">Name</nz-form-label>\\n      <nz-form-control [nzSm]=\\\"19\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"name length is at least 3\\\">\\n        <input nz-input formControlName=\\\"name\\\"/>\\n      </nz-form-control>\\n    </nz-form-item>\\n\\n    <nz-form-item>\\n      <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"description\\\">Description</nz-form-label>\\n      <nz-form-control [nzSm]=\\\"19\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"Description length is at least 10\\\">\\n        <textarea nz-input formControlName=\\\"description\\\"\\n                  [nzAutosize]=\\\"{ minRows: 6, maxRows: 8 }\\\"></textarea>\\n      </nz-form-control>\\n    </nz-form-item>\\n  </form>\\n</div>\\n\\n<div *nzModalFooter>\\n  <button nz-button nzType=\\\"default\\\" (click)=\\\"cancel()\\\">Cancel</button>\\n  <button nz-button nzType=\\\"primary\\\" [disabled]=\\\"!nForm.valid\\\" (click)=\\\"onOk()\\\"\\n          [nzLoading]=\\\"isLoading\\\">Ok\\n  </button>\\n</div>\\n\"","export default \"<div class=\\\"search-box\\\">\\n  <input type=\\\"text\\\" nz-input placeholder=\\\"Search name\\\" [(ngModel)]=\\\"searchValue\\\"/>\\n  <button nz-button nzType=\\\"primary\\\" (click)=\\\"search()\\\">\\n    Search\\n  </button>\\n  <button nz-button (click)=\\\"reset()\\\">Reset</button>\\n</div>\\n\\n<button nz-button class=\\\"btn-add\\\" nzType=\\\"primary\\\" (click)=\\\"add()\\\">\\n  <i nz-icon nzType=\\\"plus\\\" nzTheme=\\\"outline\\\"></i>Add\\n</button>\\n\\n\\n<nz-skeleton [nzActive]=\\\"true\\\" *ngIf=\\\"!list\\\"></nz-skeleton>\\n<nz-table *ngIf=\\\"list\\\" #nzTable [nzData]=\\\"list\\\" [nzShowSizeChanger]=\\\"false\\\"\\n          [nzBordered]=\\\"true\\\" nzSize=\\\"small\\\">\\n  <thead>\\n  <tr>\\n    <th>Name</th>\\n    <th>Description</th>\\n    <th nzWidth=\\\"200px\\\">Action</th>\\n  </tr>\\n  </thead>\\n  <tbody>\\n  <tr *ngFor=\\\"let data of nzTable.data\\\">\\n    <td>{{ data.name }}</td>\\n    <td>{{data.description}}</td>\\n    <td>\\n      <a (click)=\\\"editRow(data)\\\">\\n        <i nz-icon nzType=\\\"edit\\\" nzTheme=\\\"twotone\\\"></i>\\n        Edit</a> |\\n      <a nz-popconfirm nzTitle=\\\"Are you sure to delete?\\\" (nzOnConfirm)=\\\"deleteRow(data.id)\\\">\\n        <i nz-icon nzType=\\\"delete\\\" nzTheme=\\\"twotone\\\" [nzTwotoneColor]=\\\"'#eb2f96'\\\"></i>Delete</a>\\n    </td>\\n  </tr>\\n  </tbody>\\n</nz-table>\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25vdGljZS9ub3RpY2UtYWRkL25vdGljZS1hZGQuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {NoticeModel, NoticeService} from '../../../shared';\nimport {NzModalRef} from 'ng-zorro-antd';\nimport {DatePipe} from '@angular/common';\n\n@Component({\n  selector: 'app-notice-add',\n  templateUrl: './notice-add.component.html',\n  styleUrls: ['./notice-add.component.scss']\n})\nexport class NoticeAddComponent implements OnInit {\n  nForm: FormGroup;\n  @Input() isEdit;\n  @Input() data: NoticeModel;\n  isLoading = false;\n\n  constructor(private fb: FormBuilder,\n              private modal: NzModalRef,\n              private datePipe: DatePipe,\n              private noticeService: NoticeService) {\n    this.nForm = this.fb.group({\n      name: ['', [Validators.required, Validators.minLength(3)]],\n      description: ['', [Validators.required, Validators.minLength(10)]],\n    });\n  }\n\n  ngOnInit() {\n    if (this.data) {\n      this.nForm.get('name').setValue(this.data.name);\n      this.nForm.get('description').setValue(this.data.description);\n    }\n  }\n\n  cancel() {\n    this.modal.destroy(false);\n  }\n\n  onOk() {\n    this.isLoading = true;\n    const model = new NoticeModel();\n    model.name = this.nForm.controls.name.value;\n    model.description = this.nForm.controls.description.value;\n    model.date = this.datePipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss');\n    if (this.isEdit) {\n      model.id = this.data.id;\n      this.noticeService.update(model).then(() => {\n        this.isLoading = false;\n        this.modal.close(true);\n      });\n    } else {\n      this.noticeService.addModel(model).then(() => {\n        this.isLoading = false;\n        this.modal.close(true);\n      });\n    }\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {NoticeComponent} from './notice.component';\n\n\nconst routes: Routes = [{path: '', component: NoticeComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NoticeRoutingModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25vdGljZS9ub3RpY2UuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {NoticeModel, NoticeService} from '../../shared';\nimport {NzModalService} from 'ng-zorro-antd';\nimport {NoticeAddComponent} from './notice-add/notice-add.component';\n\n\n@Component({\n  selector: 'app-notice',\n  templateUrl: './notice.component.html',\n  styleUrls: ['./notice.component.scss']\n})\nexport class NoticeComponent implements OnInit {\n  searchValue = '';\n  allList: Array<NoticeModel> = [];\n  list: Array<NoticeModel>;\n\n  constructor(private noticeService: NoticeService,\n              private modalService: NzModalService) {\n\n  }\n\n  ngOnInit() {\n    this.bindData();\n  }\n\n  bindData() {\n    this.noticeService.getList().subscribe(r => {\n      this.allList = r;\n      this.list = this.allList.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    });\n  }\n\n  reset(): void {\n    this.searchValue = '';\n    this.search();\n  }\n\n\n  search(): void {\n    this.list = this.allList.filter(d => d.name.toLowerCase().indexOf(this.searchValue.toLowerCase()) !== -1);\n  }\n\n  deleteRow(id: string): void {\n    this.list = this.list.filter(d => d.id !== id);\n    this.noticeService.delete(id).then(() => {\n      this.modalService.success({\n        nzTitle: 'info',\n        nzContent: 'delete success'\n      });\n    });\n  }\n\n  editRow(data) {\n    this.createComponentModal(true, data);\n  }\n\n  add() {\n    this.createComponentModal(false);\n  }\n\n  createComponentModal(isEdit: boolean, data: NoticeModel = null): void {\n    const modal = this.modalService.create({\n      nzTitle: isEdit ? 'Edit Notice' : 'Add Notice',\n      nzContent: NoticeAddComponent,\n      nzComponentParams: {\n        isEdit,\n        data\n      }\n    });\n    modal.afterClose.subscribe(result => {\n      if (result) {\n        this.bindData();\n      }\n    });\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {NoticeRoutingModule} from './notice-routing.module';\nimport {NoticeComponent} from './notice.component';\nimport {NoticeAddComponent} from './notice-add/notice-add.component';\nimport {SharedModule} from '../../shared/shared.module';\n\n\n@NgModule({\n  declarations: [NoticeComponent, NoticeAddComponent],\n  imports: [\n    CommonModule,\n    NoticeRoutingModule,\n    SharedModule\n  ],\n  entryComponents: [NoticeAddComponent]\n})\nexport class NoticeModule {\n}\n"],"sourceRoot":"webpack:///"}