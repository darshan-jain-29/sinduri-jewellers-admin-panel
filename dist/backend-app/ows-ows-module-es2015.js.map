{"version":3,"sources":["./src/app/pages/ows/ows-add/ows-add.component.html","./src/app/pages/ows/ows.component.html","./src/app/pages/ows/ows-add/ows-add.component.scss","./src/app/pages/ows/ows-add/ows-add.component.ts","./src/app/pages/ows/ows-routing.module.ts","./src/app/pages/ows/ows.component.scss","./src/app/pages/ows/ows.component.ts","./src/app/pages/ows/ows.module.ts"],"names":[],"mappings":"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","file":"ows-ows-module-es2015.js","sourcesContent":["export default \"<nz-spin [nzSpinning]=\\\"isLoading\\\">\\n  <div>\\n    <form nz-form [formGroup]=\\\"oForm\\\">\\n      <nz-form-item>\\n        <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"minWeight\\\">MinWeight</nz-form-label>\\n        <nz-form-control [nzSm]=\\\"6\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"Required\\\">\\n          <nz-input-number formControlName=\\\"minWeight\\\" [nzMin]=\\\"0\\\" [nzStep]=\\\"1\\\"></nz-input-number>\\n        </nz-form-control>\\n\\n        <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"maxWeight\\\">MaxWeight</nz-form-label>\\n        <nz-form-control [nzSm]=\\\"6\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"Required\\\">\\n          <nz-input-number formControlName=\\\"maxWeight\\\" [nzMin]=\\\"1\\\" [nzStep]=\\\"3\\\"></nz-input-number>\\n        </nz-form-control>\\n      </nz-form-item>\\n\\n      <nz-form-item>\\n        <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"sort\\\">Sort</nz-form-label>\\n        <nz-form-control [nzSm]=\\\"6\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"Required\\\">\\n          <nz-input-number formControlName=\\\"sort\\\" [nzMin]=\\\"1\\\" [nzStep]=\\\"1\\\"></nz-input-number>\\n        </nz-form-control>\\n\\n        <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"cost\\\">Cost</nz-form-label>\\n        <nz-form-control [nzSm]=\\\"6\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"Required\\\">\\n          <nz-input-number formControlName=\\\"cost\\\" [nzMin]=\\\"0\\\" [nzStep]=\\\"1\\\"></nz-input-number>\\n        </nz-form-control>\\n      </nz-form-item>\\n\\n      <nz-form-item>\\n        <nz-form-label [nzSm]=\\\"5\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"isEnable\\\">Enable</nz-form-label>\\n        <nz-form-control [nzSm]=\\\"8\\\" [nzXs]=\\\"24\\\" nzErrorTip=\\\"Required\\\">\\n          <label nz-checkbox formControlName=\\\"isEnable\\\"></label>\\n        </nz-form-control>\\n      </nz-form-item>\\n    </form>\\n  </div>\\n\\n  <div *nzModalFooter>\\n    <button nz-button nzType=\\\"default\\\" (click)=\\\"cancel()\\\">Cancel</button>\\n    <button nz-button nzType=\\\"primary\\\" [disabled]=\\\"!oForm.valid\\\" (click)=\\\"onOk()\\\">Ok</button>\\n  </div>\\n</nz-spin>\\n\"","export default \"<button nz-button class=\\\"btn-add\\\" nzType=\\\"primary\\\" (click)=\\\"add()\\\">\\n  <i nz-icon nzType=\\\"plus\\\" nzTheme=\\\"outline\\\"></i>Add\\n</button>\\n\\n<nz-skeleton [nzActive]=\\\"true\\\" *ngIf=\\\"!list\\\" [nzParagraph]=\\\"{ rows: 6}\\\"></nz-skeleton>\\n<nz-table *ngIf=\\\"list\\\" #nzTable [nzData]=\\\"list\\\" [nzShowSizeChanger]=\\\"false\\\" [nzBordered]=\\\"true\\\" nzSize=\\\"small\\\">\\n  <thead>\\n  <tr>\\n    <th>Sort</th>\\n    <th>MinWeight(kg)</th>\\n    <th>MaxWeight(kg)</th>\\n    <th>cost($)</th>\\n    <th>Enable</th>\\n    <th nzWidth=\\\"200px\\\">Action</th>\\n  </tr>\\n  </thead>\\n  <tbody>\\n  <tr *ngFor=\\\"let data of nzTable.data\\\">\\n    <td>{{ data.sort }}</td>\\n    <td>{{data.minWeight}}</td>\\n    <td>{{data.maxWeight}}</td>\\n    <td>{{data.cost}}</td>\\n    <td><label nz-checkbox [(nzChecked)]=\\\"data.isEnable\\\"></label></td>\\n    <td>\\n      <a (click)=\\\"editRow(data)\\\">\\n        <i nz-icon nzType=\\\"edit\\\" nzTheme=\\\"twotone\\\"></i>\\n        Edit</a> |\\n      <a nz-popconfirm nzTitle=\\\"Are you sure to delete?\\\" (nzOnConfirm)=\\\"deleteRow(data.id)\\\">\\n        <i nz-icon nzType=\\\"delete\\\" nzTheme=\\\"twotone\\\" [nzTwotoneColor]=\\\"'#eb2f96'\\\"></i>Delete</a>\\n    </td>\\n  </tr>\\n  </tbody>\\n</nz-table>\\n<app-loading *ngIf=\\\"isLoading\\\"></app-loading>\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL293cy9vd3MtYWRkL293cy1hZGQuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {OwsModel, OwsService} from '../../../shared';\nimport {NzModalRef} from 'ng-zorro-antd';\nimport {DatePipe} from '@angular/common';\n\n@Component({\n  selector: 'app-ows-add',\n  templateUrl: './ows-add.component.html',\n  styleUrls: ['./ows-add.component.scss']\n})\nexport class OwsAddComponent implements OnInit {\n  oForm: FormGroup;\n  @Input() isEdit;\n  @Input() data: OwsModel;\n  isLoading = false;\n\n  constructor(private fb: FormBuilder,\n              private modal: NzModalRef,\n              private datePipe: DatePipe,\n              private owsService: OwsService) {\n    this.oForm = this.fb.group({\n      minWeight: [1, [Validators.required]],\n      maxWeight: [100, [Validators.required]],\n      sort: [1, [Validators.required]],\n      cost: [1, [Validators.required]],\n      isEnable: [true]\n    });\n  }\n\n  ngOnInit() {\n    if (this.data) {\n      this.oForm.get('minWeight').setValue(this.data.minWeight);\n      this.oForm.get('maxWeight').setValue(this.data.maxWeight);\n      this.oForm.get('sort').setValue(this.data.sort);\n      this.oForm.get('cost').setValue(this.data.cost);\n      this.oForm.get('isEnable').setValue(this.data.isEnable);\n    }\n  }\n\n  cancel() {\n    this.modal.destroy(false);\n  }\n\n  onOk() {\n    this.isLoading = true;\n    const model = new OwsModel();\n    model.minWeight = +this.oForm.controls.minWeight.value;\n    model.maxWeight = +this.oForm.controls.maxWeight.value;\n    model.sort = +this.oForm.controls.sort.value;\n    model.cost = +this.oForm.controls.cost.value;\n    model.isEnable = this.oForm.controls.isEnable.value;\n    model.date = this.datePipe.transform(new Date(), 'yyyy-MM-dd HH:mm:ss');\n    if (this.isEdit) {\n      model.id = this.data.id;\n      this.owsService.update(model).then(() => {\n        this.isLoading = false;\n        this.modal.close(true);\n      });\n    } else {\n      this.owsService.addModel(model).then(() => {\n        this.isLoading = false;\n        this.modal.close(true);\n      });\n    }\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {OwsComponent} from './ows.component';\n\n\nconst routes: Routes = [{path: '', component: OwsComponent}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OwsRoutingModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL293cy9vd3MuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {ModalService, OwsModel, OwsService} from '../../shared';\nimport {NzModalService} from 'ng-zorro-antd';\nimport {OwsAddComponent} from './ows-add/ows-add.component';\nimport {NoticeAddComponent} from '../notice/notice-add/notice-add.component';\n\n@Component({\n  selector: 'app-ows',\n  templateUrl: './ows.component.html',\n  styleUrls: ['./ows.component.scss']\n})\nexport class OwsComponent implements OnInit {\n  list: Array<OwsModel>;\n  isLoading = false;\n\n  constructor(private owsService: OwsService,\n              private mService: NzModalService,\n              private modalService: ModalService) {\n\n  }\n\n  ngOnInit() {\n    this.bindData();\n  }\n\n  bindData() {\n    this.owsService.getList().subscribe(r => {\n      this.list = r;\n      this.list = this.list.sort((a, b) => a.sort - b.sort);\n    });\n  }\n\n  deleteRow(id: string): void {\n    this.isLoading = true;\n    this.list = this.list.filter(d => d.id !== id);\n    this.owsService.delete(id).then(() => {\n      this.isLoading = false;\n      this.modalService.success('delete success!');\n    });\n  }\n\n  editRow(data) {\n    this.createComponentModal(true, data);\n  }\n\n  add() {\n    this.createComponentModal(false);\n  }\n\n  createComponentModal(isEdit: boolean, data: OwsModel = null): void {\n    const modal = this.mService.create({\n      nzTitle: isEdit ? 'Edit OverWeight Surcharge' : 'Add OverWeight Surcharge',\n      nzContent: OwsAddComponent,\n      nzComponentParams: {\n        isEdit,\n        data\n      }\n    });\n    modal.afterClose.subscribe(result => {\n      if (result) {\n        this.bindData();\n      }\n    });\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {OwsRoutingModule} from './ows-routing.module';\nimport {OwsComponent} from './ows.component';\nimport {OwsAddComponent} from './ows-add/ows-add.component';\nimport {SharedModule} from '../../shared/shared.module';\nimport {LoadingModule} from '../../components/loading/loading.module';\n\n\n@NgModule({\n  declarations: [OwsComponent, OwsAddComponent],\n  imports: [\n    CommonModule,\n    OwsRoutingModule,\n    SharedModule,\n    LoadingModule\n  ],\n  entryComponents: [OwsAddComponent]\n})\nexport class OwsModule {\n}\n"],"sourceRoot":"webpack:///"}